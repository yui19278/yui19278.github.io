import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.D8XvD6Ax.js";const d="https://yui19278.com",i=s=>e.jsxs("p",{className:"text-lg text-gray-700 dark:text-gray-300 border-b-2 border-gray-300 dark:border-gray-600 pb-2 inline-block",children:["あなたは ",e.jsx("strong",{className:"font-bold text-xl mx-1",children:s.toLocaleString()})," 人目の訪問者です"]});function h({text:s}){const[r,c]=n.useState(null),[t,u]=n.useState(null);n.useEffect(()=>{(async()=>{try{const l=await(await fetch(`${d}/api/counter/increment`,{method:"POST"})).json();c(l.count)}catch(o){console.error("Failed to fetch access count:",o)}})()},[]);const a=s||i;return e.jsxs("div",{className:"text-center",children:[t&&e.jsx("p",{className:"text-red-500 font-semibold",children:t}),r!==null&&!t&&a(r),r===null&&!t&&e.jsx("div",{className:"animate-pulse flex justify-center items-center h-9",children:e.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 rounded-md w-64 h-7"})})]})}export{h as default};
